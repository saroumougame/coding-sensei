version: "3"

services:

# ------> asset ------>
    asset_adboghh30jp9s2ij4:
        container_name: asset_adboghh30jp9s2ij4
        image: node:alpine
        working_dir: /var/www/assets
        volumes:
            - ../assets:/var/www/assets
            - ../public:/var/www/public
# <------ asset <------

# ------> composer ------>
    composer_adboghh30jp9s2ij5:
        container_name: composer_adboghh30jp9s2ij5
        image: composer:latest
        volumes:
            - .././:/app
        command: ["composer", "update"]
# <------ composer <------

# ------> mariadb ------>
    mariadb_adboghh30jp9s2ij6:
        container_name: mariadb_adboghh30jp9s2ij6
        image: mariadb:latest
        restart: always
        volumes:
             - ../../.database/my_app:/var/lib/mysql
#            - ./mariadb/conf/mariadb:/etc/mysql
        environment:
            MYSQL_DATABASE: coding
            MYSQL_USER: coding
            MYSQL_PASSWORD: coding
            MYSQL_ROOT_PASSWORD: coding
# <------ mariadb <------

# ------> symfony ------>
    symfony_adboghh30jp9s2ij7:
        container_name: symfony_adboghh30jp9s2ij7
        build: ./symfony
        image: skyflow/symfony
        restart: always
        working_dir: /coding-sensei
        ports:
            - 8889:80
        volumes:
            - ../:/coding-sensei
            - ./symfony/conf/apache2:/etc/apache2
            - ./symfony/conf/php7/php.ini:/etc/php7/php.ini
# <------ symfony <------